{"version":3,"file":"collective.bbcodesnippets.js","sources":["../../../../js/src/main.js"],"sourcesContent":["require([\"jquery\", \"pat-registry\", \"tinymce\"], function ($, Registry, tinymce) {\n  \"use strict\";\n  console.log(\"works 1\");\n  var portalUrl = $(\"body\").attr(\"data-portal-url\");\n  const buttonIcon =\n    portalUrl + \"/++plone++collective.bbcodesnippets/bbcodeicon.png\";\n  console.log(\"create and add collectivebbcodesnippets\");\n  var tinymce = require(\"tinymce\");\n  tinymce.create(\"tinymce.plugins.CollectiveBBCodeSnippetsPlugin\", {\n    init: function (editor) {\n      editor.on(\"init\", function () {\n        // make all existing not editable\n        $('[data-type=\"snippet_tag\"]', editor.getBody()).each(function () {\n          this.setAttribute(\"contenteditable\", false);\n        });\n      });\n\n      editor.addCommand(\"collectivebbcodesnippets\", function () {\n        var $el = $(editor.selection.getNode());\n        console.log(\"works!\");\n      });\n\n      editor.addButton(\"cbbcodesnippetsbutton\", {\n        cmd: \"collectivebbcodesnippets\",\n        image: buttonIcon,\n      });\n    },\n  });\n  tinymce.PluginManager.add(\n    \"collectivebbcodesnippets\",\n    tinymce.plugins.CollectiveBBCodeSnippetsPlugin\n  );\n});\n"],"names":["require"],"mappings":";;;;;;;AAAAA,gBAAO,CAgCN,CAAC;;;;;;"}